<h1>First Angular App</h1>
<h2>{{ title }}</h2>
<p>{{ 2+1 }}</p>
<app-navbar></app-navbar>
<app-header></app-header>



<button (click)="toggleCourses1_13()">Toggle courses 1 to 13</button>

<button (click)="toggleCourses14_22()">Toggle courses 14 to 22</button>

<h1>app users : {{userService.users |json}}</h1>
<app-posts-list></app-posts-list>

<br><br>
<div class="form-center">
    <h2>User Form</h2>

    <form (submit)="formSubmit($event)">
        <input type="text" placeholder="Name" name="name">
        <br><br>
        <input type="email" placeholder="Email" name="email">
        <br><br>
        <input type="text" placeholder="Address" name="address">
        <br><br>
        <button>Submit</button>
    </form>
</div>

@if (showCourses14_22) {

<h1>{{appPostTitle}} (in app)</h1>
<app-posts-list [postListTitle]="appPostTitle" [postListIsLogin]="appIsLogin" (MessageEvent)="receiveMessage($event)"></app-posts-list>

<!--<div *ngComponentOutlet="loadComponent()"></div> -->

<button (click)="loadComponent()">Create Component</button>
<button (click)="removeComponent()">Remove Component</button>

<app-profile [pUserName]="userName">
    <h1>{{userName}}</h1>
    <p>Content projected from parent</p>
</app-profile>
<button (click)="changeUser()">changeUser</button>

<button (click)="loadComponentPofile()">load profile component</button>

<app-card>
   <span header>username</span>
   <h1 body>John Doe</h1>
   <button footer>View profile</button>
</app-card>

<p>{{message}}</p>
<p>{{messageFromChild}}</p>


<h1>{{testPipes}}</h1>
<button (click)="uppercase()">uppercase</button>

<h1>{{testPipes.toUpperCase()}}</h1>

<h1>{{testPipes | uppercase}}</h1>

<h1>{{testPipes | titlecase}}</h1>

<h1> {{1234567.89 | number}}</h1>

<h1>{{ 0.7 | percent}}</h1>

<h1>{{ 1000 | currency : 'EUR': 'code'}}</h1>

<h1>{{today | date:'short'}} - short</h1>
<h1>{{today | date:'medium'}} - medium</h1>
<h1>{{today | date:'long'}} - long</h1>
<h1>{{today | date:'full'}} - full</h1>

<h1>{{today | date:'dd MMMM yyyy'}} - date only</h1>
<h1>{{today | date:'hh:mm:ss a z'}} - time only</h1>

<h1>{{user}}</h1>
<button (click)="convertJson()">Convert JSON</button>

<h1>{{user2 | json}}</h1>

<h1>{{'Hello Angular World' | slice:6:13}}</h1>
<h1>{{'Hello Angular World' | slice:6:13 | uppercase}}</h1>
}

@if (showCourses1_13) {
    <br>
<img src="{{ imgURL }}" title="string interpolation">
<img [src]="imgURL" title="binding">


<button>Not disabled</button>
<button disabled="{{isDisabled}}">Disable using string interpolation</button>
<button [disabled]="isDisabled">Disable using property binding</button>

<p>
<!-- class binding -->
<button [class.active]="isActive"
  [class.no-active]="!isActive"
  [class.active-border]="isActive"
  [class.no-active-border]="!isActive"
  >Click me</button>

  <button [class.apple]="fruitName == 'Apple'">Fruit Ninja</button>

  <p>
    <!-- style binding -->
    <button [style.backgroundColor]="isActive? 'red' : 'green' "
    [style.border]="isActive? '3px solid yellow' : '' ">
    Click</button>

    <button [class.active]="isActive">Class binding</button>
<p>
    <!-- Events -->
    <button (click)="buttonClick()" (mouseover)="onButton()">Click me</button>

    <input type ="text" (keyup)="keyEnter($event)">

    <input type="text" (keyup.enter)="keyupFiltering(user)" #user id="userInput">

<p> <!-- data binding -->
    {{userName}}
    <input type="text" [value]="userName" #username (keyup.enter)="updateUserName(username)">

    <div>two way data binding
    <input type="text" [(ngModel)]="userName" >

    <input type="text" [value]="textValue" (keyup.enter)="onKeyup()">

    <input type="text" [(ngModel)]="textValue" >
</div>

<!-- ifs-->
 <button (click)="toggleIsLogged()">Toggle log in</button>
<h2 *ngIf="isLoggedIn; else message">{{userName}} using ng-if</h2>
<h2 *ngIf="!isLoggedIn">Not logged in using ng-if</h2>

@if (isLoggedIn)
{
    <h3 >{{userName}} using if</h3>
} @else {
    <h2>Not logged in using if</h2>
}

<ng-template #message>
    <h4>user is not logged in using ng-template</h4>
</ng-template>

<button (click)="countLoginAttempts()" *ngIf="loginCount <= 3">Log In</button>
{{loginCount}}

<h4 *ngIf="loginCount > 3">Exceeded 3 login Attempts, try again later using ng-if</h4>

@if (loginCount <= 3)
{
<button (click)="countLoginAttempts()">Login syntax</button>
}

@if (loginCount > 3)
{
<h4>Exceeded 3 login Attempts, try again later using if</h4>
}

<button (click)="toggleRole()">Toggle role</button>
<h4 *ngIf="userRole == 'Admin'; else memberMessage">Welcome admin</h4>

<ng-template #memberMessage>
    <h4>Welcome member</h4>
</ng-template>

@if (userRole == 'Admin'){
    <h4>Welcome admin</h4>
} @else if (userRole == 'Member') {
    <h4>Welcome member</h4>
}
<ng-template #callToAction>
    <p>Call to action</p>
    <button>Join now</button>
</ng-template>

<div [ngTemplateOutlet]="callToAction">
     <h5>Sidebar</h5>
</div>
<div [ngTemplateOutlet]="callToAction">
    <h5>Hero</h5>
</div>
<div [ngTemplateOutlet]="callToAction">
     <h5>Footer</h5>
</div>

<!-- For -->

<h3>{{users}}</h3>
<h3>{{users[0]}}</h3>
<h3>{{users[1]}}</h3>
<h3>{{users[2]}}</h3>
<h3>{{users[3]}}</h3>

<p> ngFor </p>
<h3 *ngFor="let user of users">{{user}}</h3>

<p> for </p>
@for(user of users;track user) {
    <h3>{{user}} using for</h3>
}

<ul>
    <li *ngFor="let user of users"> {{user}}</li>
</ul>

<ul>
@for(user of users; track user) {
    <li> {{user}} using for</li>
}
</ul>

<button (click)="addNewUser()">Add new user</button>
<div *ngIf="usersObj.length == 0"> <p>No users to display</p></div>

<ul>
    <li *ngFor="let user of usersObj; let i = index; let usersCount = count">
        {{usersCount}} - [{{i}}] {{user.name}} &#x40; {{user.email}} <button (click)="onDeleteIndex(i)">Delete</button>
    </li>
</ul>

@if (usersObj.length == 0) 
{
<div> <p>No users to display using if</p></div>
}

<ul>
    @for(user of usersObj;track user; let i = $index; let usersCount = $count; let first = $first; let last = $last; let even = $even) {
        <li>{{first}} {{last}} {{even}} {{$odd}} {{usersCount}} - [{{i}}] {{user.id}} : {{user.name}} {{'@'}} {{user.email}} using for <button (click)="onDelete(user)">Delete</button></li>
    }
    @empty {
        <p>No users to display using empty</p>
    }
</ul>

<button (click)="toggleRole()">Toggle role</button>
<button (click)="clearUserRole()">clear user role</button>

<!--switch-->
<div [ngSwitch]="userRole">
    <p *ngSwitchCase="'Admin'">Welcome admin</p>
    <p *ngSwitchCase="'Member'">Welcome member</p>
    <p *ngSwitchDefault>Unknow type</p>
</div>

@switch (userRole) {
    @case('Admin') {
        <p>Welcome admin using switch</p>
    }
    @case('Member') {
        <p >Welcome member using switch</p>
    }
    @default {
        <p>Unknow type using switch</p>
    }
}

<button (click)="toggleIsLogged()">Toggle log in</button>
<h1 [style.color]= "isLoggedIn?'green':'red'" [style.textTransform]="isLoggedIn? 'uppercase' : 'lowercase'" >Welcome admin</h1>

<h1 [ngStyle]="{
     'color': isLoggedIn?'green':'red',
     'textTransform': isLoggedIn? 'uppercase' : 'lowercase'
    }">
    Ng style directive</h1>

    <h1 [class.login]="isLoggedIn" [class.logout]="!isLoggedIn">Class binding</h1>

    <h1 [ngClass]="{
        'login': isLoggedIn,
        'logout': !isLoggedIn
    }">Ng class directive
</h1>
}